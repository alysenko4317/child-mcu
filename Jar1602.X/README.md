# –ü—Ä–æ—î–∫—Ç: LCD-–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä —ñ–∑ –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ PIC16F877

–¶–µ–π –ø—Ä–æ—î–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –æ—Å–Ω–æ–≤–∏ —Ä–æ–∑—Ä–æ–±–∫–∏ –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ –Ω–∞ –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ **PIC16F877**. –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è LCD-–¥–∏—Å–ø–ª–µ—î–º 16√ó2 —Ç–∞ –æ–±—Ä–æ–±–∫—É 4 –∫–Ω–æ–ø–æ–∫ –∑ —á—ñ—Ç–∫–∏–º —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è–º –∫–æ–¥—É –∑–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–º–∏ —à–∞—Ä–∞–º–∏.

---

## üß† –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –≤–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –π —á–∏—Å–µ–ª –Ω–∞ LCD-–¥–∏—Å–ø–ª–µ–π (HD44780-—Å—É–º—ñ—Å–Ω–∏–π) —É 4-–±—ñ—Ç–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ.
- –û–±—Ä–æ–±–∫–∞ 4 –∫–Ω–æ–ø–æ–∫: –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ –º–µ–Ω—é, –∑–º—ñ–Ω–∞ –∑–Ω–∞—á–µ–Ω—å, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.
- –ó–∞—Ö–∏—Å—Ç MCU: —Å—Ç–∞–±—ñ–ª—ñ–∑–∞—Ç–æ—Ä **7805** –¥–ª—è –∂–∏–≤–ª–µ–Ω–Ω—è –≤—ñ–¥ 9‚Äì12 –í.
- –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ —Ä–æ–∑–ø–æ–¥—ñ–ª–æ–º –Ω–∞ **HAL (–Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å)** / **Middleware (—Å–µ—Ä–≤—ñ—Å–∏)** / **Application (–ª–æ–≥—ñ–∫–∞)**.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```plaintext
src/
‚îú‚îÄ‚îÄ main.c                  ‚Üê –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É: —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞, –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—ñ–≤, –≥–æ–ª–æ–≤–Ω–∏–π —Ü–∏–∫–ª
‚îÇ
‚îú‚îÄ‚îÄ drivers/                ‚Üê –î—Ä–∞–π–≤–µ—Ä–∏ –Ω–∏–∑—å–∫–æ–≥–æ —Ä—ñ–≤–Ω—è (HAL) –¥–ª—è LCD-–¥–∏—Å–ø–ª–µ—ó–≤
‚îÇ   ‚îú‚îÄ‚îÄ ht1621.c/h          ‚Üê –î—Ä–∞–π–≤–µ—Ä –¥–ª—è HT1621 (–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —Ü—å–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ, –∑–∞–ª–∏—à–µ–Ω–æ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î)
‚îÇ   ‚îî‚îÄ‚îÄ lcd1602.c/h         ‚Üê –î—Ä–∞–π–≤–µ—Ä –¥–ª—è –¥–∏—Å–ø–ª–µ—è 1602 –Ω–∞ –±–∞–∑—ñ HD44780
‚îÇ
‚îú‚îÄ‚îÄ middleware/             ‚Üê –°–µ—Ä–≤—ñ—Å–∏ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ä—ñ–≤–Ω—è, –∞–±—Å—Ç—Ä–∞–≥—É—é—Ç—å –ª–æ–≥—ñ–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ button_service.c    ‚Üê –û–±—Ä–æ–±–∫–∞ –∫–Ω–æ–ø–æ–∫, –∑–≤–æ—Ä–æ—Ç–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ –ø–æ–¥—ñ–π
‚îÇ   ‚îú‚îÄ‚îÄ inactivity_service.c‚Üê –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ   ‚îú‚îÄ‚îÄ lcd1602_service.c   ‚Üê API –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∏—Å–ø–ª–µ—î–º 1602
‚îÇ   ‚îî‚îÄ‚îÄ lcd1621_service.c   ‚Üê API –¥–ª—è HT1621 (–∑–∞–ª–∏—à–µ–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ü—ñ–ª–µ–π)
‚îÇ
‚îî‚îÄ‚îÄ bsp/                    ‚Üê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–ª–∞—Ç–∏ (Board Support Package)
    ‚îú‚îÄ‚îÄ board.h             ‚Üê –ü—ñ–Ω–º–∞–ø—ñ–Ω–≥ —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫–Ω–æ–ø–æ–∫/–¥–∏—Å–ø–ª–µ—ó–≤
    ‚îî‚îÄ‚îÄ mcu_init.c          ‚Üê –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–µ—Ä–∏—Ñ–µ—Ä—ñ—ó –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ (GPIO, —Ç–∞–π–º–µ—Ä–∏ —Ç–æ—â–æ)

```

> üìù **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –£ –¥–∞–Ω–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ª–∏—à–µ –¥–∏—Å–ø–ª–µ–π LCD1602. –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ HT1621 –∑–∞–ª–∏—à–µ–Ω–∞ —É —Å–∫–ª–∞–¥—ñ –ø—Ä–æ—î–∫—Ç—É —è–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤ —ñ–∑ —Ü–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–æ–º. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –±—É–ª–æ –≤–∏–∫–æ–Ω–∞–Ω–æ –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–º—É –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ –¥–ª—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è –∑ HT1621, —Ö–æ—á–∞ –≤ –æ—Å–Ω–æ–≤–Ω—ñ–π –ª–æ–≥—ñ—Ü—ñ –ø—Ä–æ—î–∫—Ç—É –≤–æ–Ω–∞ –Ω–∞—Ä–∞–∑—ñ –Ω–µ –∑–∞–¥—ñ—è–Ω–∞.


## üõ†Ô∏è –ó–±—ñ—Ä–∫–∞ –ø—Ä–æ—î–∫—Ç—É

- **IDE**: MPLAB X  
- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä**: XC8  
- **–ü—Ä–æ–≥—Ä–∞–º–∞—Ç–æ—Ä**: PICkit 2

–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ `pic_lcd_buttons.X` —É MPLAB X.
2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä XC8 –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—î—é `-O2`.
3. –û–±—Ä–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–æ—Ä: Run ‚Üí Set Project Configuration ‚Üí Customize... ‚Üí PICkit 2.
4. –ó—ñ–±—Ä–∞—Ç–∏ —Ç–∞ –ø—Ä–æ—à–∏—Ç–∏: Run ‚Üí Program.

---

## üîò –ö–Ω–æ–ø–∫–∏

| –ö–Ω–æ–ø–∫–∞ | –ü—ñ–Ω MCU | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è                                      |
|:------:|:--------:|:--------------------------------------------------|
| S1     | RB0      | –ü–æ–∫–∞–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: "Hello, JARIK"               |
| S2     | RB1      | –ü–æ–∫–∞–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: "Rocketa GOTOVA"             |
| S3     | RB2      | –ü–æ–∫–∞–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: "Rocketa PUSK"               |
| S4     | RB3      | –ü–µ—Ä–µ—Ö—ñ–¥ —É —Ä–µ–∂–∏–º –ø—Ä–æ—Å—Ç–æ—é ‚Äî –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è Uptime    |

> –ü—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ S4, —è–∫—â–æ –ø—Ä–∏—Å—Ç—Ä—ñ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏–π –ø–æ–Ω–∞–¥ 10 —Å–µ–∫—É–Ω–¥, –Ω–∞ –µ–∫—Ä–∞–Ω—ñ –∑'—è–≤–ª—è—î—Ç—å—Å—è "Uptime: XXh:XXm:XXs".

---

## üì∏ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è

*–§–æ—Ç–æ —Ç–∞/–∞–±–æ –≤—ñ–¥–µ–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó —Ä–æ–±–æ—Ç–∏ –ø–ª–∞—Ç–∏ –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –∑–≥–æ–¥–æ–º.*

---

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–ü—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –∑ –Ω–∞–≤—á–∞–ª—å–Ω–æ—é –º–µ—Ç–æ—é. –ú–æ–∂–Ω–∞ –≤—ñ–ª—å–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç–∞ –ø–æ—à–∏—Ä—é–≤–∞—Ç–∏.

---

> ‚ÑπÔ∏è –ü—Ä–æ—î–∫—Ç —â–µ –Ω–µ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π ‚Äî –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–æ—Ç–æ —Ç–∞ —É—Ç–æ—á–Ω–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –±—É–¥—É—Ç—å –¥–æ–¥–∞–Ω—ñ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.